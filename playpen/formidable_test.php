<?php

require "../env.php";

$formidable_loader = '[{"id":"22","item_key":"s9br8","name":["Brian Gumble","Jessica Almond"],"description":["Get all the info","Get the ball moving","Kick the ball out of the park"],"ip":"202.0.188.100","form_id":"3","post_id":"0","user_id":"1","parent_item_id":"0","is_draft":"0","updated_by":"1","created_at":"2022-07-02 05:25:35","updated_at":"2022-07-02 05:25:35","clientname":"Michael Berner","dgh33":"m.berner@gmail.com","clientcompany":"Berner Company & Co","websiteurl":"https:\/\/bernercandles.com.au","date":"July 13, 2022","date-value":"2022-07-13","clientaddress":"34 Berner Avenue, Bromengham 2012 QLD","emailbody":"Hey Joh,\r\n\r\nAre you ready for the real? \r\n\r\nThen let\'s do it!","execsummary":"It seems that we are in a strange position - the issue is:\r\n\r\n*Issue here*\r\nAnd we will fix it!","products":{"form":"4","i11":{"productname":"Product Name #1","productfeature":"Product Feature #1 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","productbenefit":"Product Benefit #1 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here."},"i12":{"productname":"Product Name #2","productfeature":"Product Feature #2 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","productbenefit":"Product Benefit #2 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here."},"i13":{"productname":"Product Name #3","productfeature":"Product Feature #3 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","productbenefit":"Product Benefit #3 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here."}},"productname":["Product Name #1","Product Name #2","Product Name #3"],"productfeature":["Product Feature #1 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","Product Feature #2 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","Product Feature #3 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here."],"productbenefit":["Product Benefit #1 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","Product Benefit #2 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here.","Product Benefit #3 - Description here and here. Description here and here. Description here and here. Description here and here. Description here and here. Description here and here."],"stakeholders":{"form":"5","i14":{"name":"Brian Gumble","position":"Principal","contact":"0415932797 \/ j.smith@gmail.com","responsibility":"Make it real"},"i15":{"name":"Jessica Almond","position":"Property Manager","contact":"0432 451 332 \/ j.almond@headstudios.com.au","responsibility":"Oversee and make sure everything works well"}},"position":["Principal","Property Manager"],"contact":["0415932797 \/ j.smith@gmail.com","0432 451 332 \/ j.almond@headstudios.com.au"],"responsibility":["Make it real","Oversee and make sure everything works well"],"4nr7t":{"form":"7","i16":{"activity":"Start the Ball","description":"Get all the info","date2":"July 8, 2022","date2-value":"2022-07-08"},"i17":{"activity":"Roll the Ball","description":"Get the ball moving","date2":"July 14, 2022","date2-value":"2022-07-14"},"i18":{"activity":"Ball the Wall","description":"Kick the ball out of the park","date2":"July 22, 2022","date2-value":"2022-07-22"}},"activity":["Start the Ball","Roll the Ball","Ball the Wall"],"date2":["July 8, 2022","July 14, 2022","July 22, 2022"],"date2-value":["2022-07-08","2022-07-14","2022-07-22"],"mddb6":{"form":"6","i19":{"headline":"Headline #1","description2":"Make sure you play ball"},"i20":{"headline":"Headline #2","description2":"Make sure you dunk the ball in"},"i21":{"headline":"Headline #3","description2":"Make sure you don\'t stumble"}},"headline":["Headline #1","Headline #2","Headline #3"],"description2":["Make sure you play ball","Make sure you dunk the ball in","Make sure you don\'t stumble"],"6ecxf":"username","6ecxf-value":"1"}]';
$input = json_decode($formidable_loader, true);
$input = $input[0];

//var_dump($input);
$products = $input['products'];
unset($products['form']);
$products = array_values($products);

foreach($products as $product) {
    echo "Name is: ".$product['productname']."<br />";
    echo "Feature is: ".$product['productfeature']."<br />";
    echo "Benefit is: ".$product['productbenefit']."<br />";
}

//MyFun::pre_dump($products);

function cleanseFormidableArray(array $input) {
    unset($input['form']);
    $input = array_values($input);
    return $input;
}